hybrid:
  policy: conditional_dup
  K_total: 2
  dup_split: [1, 1]

  p_gate: 0.8          # Lower gate for more DUP triggering (0.55), Higher gate for less DUP triggering (0.75)
  allow_switch: true
  hysteresis_margin_prob: 0.0
  conf_k: 0.0           # Neutral (no pessimism or optimism)
  epsilon: 0.15         # Moderate exploration

  probe:
    period: 2           # More frequent probing (every 2 steps)
    r_probe: 0.4        # Less noisy measurements
    on_switch: true

predictor:
  model: ar1_per_link
  rf:
    phi: 0.94
    q: 0.3
    m: 8.0
  vlc:
    phi: 0.88           # More stable VLC tracking
    q: 0.5              # Lower process noise
    m: 12.5
    # âœ… CRITICAL FIX: Threshold must be ABOVE the actual blockage SNR
    blockage_threshold: -10.0      # Detect blockage below -10 dB (blockages occur at -15)
    blockage_recovery_rate: 0.5    # Faster recovery toward mean
  
  r: 0.25              # Lower measurement noise

  mu_rf: 8.0
  var_rf: 2.5          # Lower initial uncertainty
  mu_vlc: 12.5
  var_vlc: 2.5         # Lower initial uncertainty

adapters:
  rf_lut: artifacts/adapters/rf_lut.json
  vlc_lut: artifacts/adapters/vlc_lut.json