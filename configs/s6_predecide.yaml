hybrid:
  policy: conditional_dup
  K_total: 2
  dup_split: [1, 1]

  # ↓ Lower the duplication gate so DUP can trigger at mid SNRs
  p_gate: 0.85          # was 0.97

  allow_switch: true
  # ↓ Soften the “stickiness” so it can switch back sooner
  hysteresis_margin_prob: 0.02   # was 0.05

  # ↓ Soften the safety margin so idle link isn’t over-penalized
  conf_k: 0.3           # was 1.0

  # ↓ Small, controlled exploration of the other link
  epsilon: 0.05         # NEW (3% ε-greedy)

  # ↓ Keep the idle link’s estimate fresh (periodic probing)
  probe:                # NEW
    period: 8           # measure both links every 8 steps
    r_probe: 1.5        # probing uses a noisier measurement
    on_switch: true     # also probe the link we didn’t choose whenever we switch

predictor:
  # ↓ Make SNR forecasts mean-reverting instead of drifting to 0
  model: ar1_per_link  # NEW! Use per-link dynamics
  rf:
    phi: 0.94     # Slower fading
    q: 0.3        # Lower process noise
    m: 8.0        # Lower mean SNR         
  vlc:
    phi: 0.85     # Faster fading  
    q: 0.8        # Higher process noise
    m: 12.0       # Higher mean SNR (when not blocked)
  # Shared measurement noise (applies to both links)
  r: 0.5  

  # Keep your existing priors (used as initial posteriors at t=0)
  mu_rf: 8.0
  var_rf: 4.0
  mu_vlc: 12.0
  var_vlc: 4.0

adapters:
  rf_lut: artifacts/adapters/rf_lut.json
  vlc_lut: artifacts/adapters/vlc_lut.json
