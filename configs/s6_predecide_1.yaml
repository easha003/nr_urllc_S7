hybrid:
  policy: conditional_dup
  K_total: 2
  dup_split: [1, 1]

  # ✅ FIX #1: Lower DUP gate significantly
  p_gate: 0.7          # was 0.85 → easier to trigger DUP

  allow_switch: true
  
  # ✅ FIX #2: Reduce hysteresis to allow easier switching
  hysteresis_margin_prob: 0.0   # was 0.02 → less "sticky"

  # ✅ FIX #3: Remove safety margin OR make it favor VLC
  conf_k: 0.1          # was 0.3 → NEGATIVE = optimistic about both links!
                        # This adds variance instead of subtracting it

  # ✅ FIX #4: Increase exploration significantly
  epsilon: 0.15         # was 0.05 → 15% random exploration

  # ✅ FIX #5: More aggressive probing
  probe:
    period: 2           # was 8 → measure idle link every 4 steps
    r_probe: 0.4        # was 1.5 → less noisy measurements (more accurate)
    on_switch: true     # keep this

predictor:
  model: ar1_per_link
  rf:
    phi: 0.94
    q: 0.3
    m: 8.0
  vlc:
    # ✅ FIX #6: Make VLC prediction less volatile
    phi: 0.88     # was 0.82 → slower fading = more stable estimates
    q: 0.8        # was 1.2 → less process noise = less uncertainty
    m: 12.0
  
  # ✅ FIX #7: Reduce measurement noise
  r: 0.3        # was 0.5 → more confident measurements

  # Initial posteriors
  mu_rf: 8.0
  var_rf: 4.0
  mu_vlc: 12.0
  var_vlc: 4.0

adapters:
  rf_lut: artifacts/adapters/rf_lut.json
  vlc_lut: artifacts/adapters/vlc_lut.json